<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <link th:href="@{/css/index.css}" rel="stylesheet" />
    <meta http-equiv="refresh" content="5">
</head>

<!-- TESTING SECTION -->
<p th:text="${GeneralInfo}"> </p>
<div class="myBoxNr">
    <p th:text="${DynamicInfo}"> </p>
</div>
<!-- TESTING SECTION -->


<body>
<table>
    <tr>

        <th><h2 style="color: blue;">
            <input style="color: blue;" type="text" th:object="${currentUser}" th:field="*{name}" disabled>
        </h2></th>
        <th><h2 style="color: blue;" th:text="${playerClass}"></h2></th>
        <th><h2 style="color: blue;"th:text="${playerRace}"></h2></th>
        <th><h2 style="color: blue;"th:text="${playerLevel}"></h2></th>
        <th><h2 style="color: blue;"th:text="${playerStrength}"></h2></th>
    </tr>
</table>

<div class="logo_html_generator">
    <img th:src="@{/images/GenericMunchkinPicture.png}" height="200px"/>
    <img th:src="@{${'/images/' + door + '.png'}}" width="120"/>
    <p style="color: blue;" th:text="${doorName}"></p>
    <p style="color: blue;" th:text="${doorDescription}"></p>
</div>

<!-------------------------------------------------------------->
<!--------------------- GAME PHASE BUTTONS --------------------->


<div th:if="${gamePhase=='nofight'}">
    <form action="#" th:action="@{${#httpServletRequest.requestURI+'/sell'}}" method="post">
        <input th:value="Kaempfen" disabled>
        <input th:value="Weglaufen" disabled>
        <input type="submit" th:value="Verkaufen">
    </form>
    <form action="#" th:action="@{${#httpServletRequest.requestURI+'/newRound'}}" method="post">
        <input type="submit" th:value="Rundenabschluss">
    </form>
</div>
<div th:if="${gamePhase=='fight'}">
    <form action="#" th:action="@{${#httpServletRequest.requestURI+'/fight'}}" method="post">
        <input type="submit" th:value="Kaempfen">
        <input type="submit" th:value="Verkaufen" disabled>
        <input type="submit" th:value="Rundenabschluss" disabled>
    </form>  <!--run-->
    <form action="#" th:action="@{${#httpServletRequest.requestURI+'/newRound'}}" method="post">
        <input type="submit" th:value="Weglaufen">
    </form>
</div>
<!-------------------------------------------------------------->


<form action="#" th:action="@{${#httpServletRequest.requestURI+'/fightState'}}" method="post">
    <div>
        <input th:if="${fightButton}" type="submit" th:value="${fightingState}">
    </div>
</form>

<h1>Eigenschaften</h1>

<table>
    <tr>
        <th>Kopfbedeckung</th>
    </tr>
    <tr>
        <td>Name: </td>
        <td th:text="${headgearName}"></td>
    </tr>
    <tr>
        <td>Bonus: </td>
        <td th:if="${headgearBonus}" th:text="${headgearBonus}"></td>
    </tr>
    <tr>
        <td>Wert: </td>
        <td th:if="${headgearValue}" th:text="${headgearValue}"></td>
        <td>
        <form action="#" th:action="@{${#httpServletRequest.requestURI+'/sellHeadgear'}}" method="post">
            <div th:switch="${headgearSell}">
                <input th:case="false" type="submit" th:value="Abgeben">
                <input th:case="true" type="submit" th:value="Behalten">
            </div>
        </form>
        </td>
    </tr>
</table>


<table>
    <tr>
        <th>Ruestung</th>
    </tr>
    <tr>
        <td>Name: </td>
        <td th:text="${armourName}"></td>
    </tr>
    <tr>
        <td>Bonus: </td>
        <td th:if="${armourBonus}" th:text="${armourBonus}"></td>
    </tr>
    <tr>
        <td>Wert: </td>
        <td th:if="${armourValue}" th:text="${armourValue}"></td>
        <td>
            <form action="#" th:action="@{${#httpServletRequest.requestURI+'/sellArmour'}}" method="post">
                <div th:switch="${armourSell}">
                    <input th:case="false" type="submit" th:value="Abgeben">
                    <input th:case="true" type="submit" th:value="Behalten">
                </div>
            </form>
        </td>
    </tr>
</table>

<table>
    <tr>
        <th>Schuhe</th>
    </tr>
    <tr>
        <td>Name: </td>
        <td th:text="${bootsName}"></td>
    </tr>
    <tr>
        <td>Bonus: </td>
        <td th:if="${bootsBonus}" th:text="${bootsBonus}"></td>
    </tr>
    <tr>
        <td>Wert: </td>
        <td th:if="${bootsValue}" th:text="${bootsValue}"></td>
        <td>
            <form action="#" th:action="@{${#httpServletRequest.requestURI+'/sellBoots'}}" method="post">
                <div th:switch="${bootsSell}">
                    <input th:case="false" type="submit" th:value="Abgeben">
                    <input th:case="true" type="submit" th:value="Behalten">
                </div>
            </form>
        </td>
    </tr>
</table>

<table>
    <tr>
        <th>Gegenstaende</th>
    </tr>
    <tr th:each="item : ${items}">
        <td>Name: </td>
        <td th:text="${item.name}"></td>
        <td>Beschreibung: </td>
        <td th:text="${item.description}"></td>
        <td>Bonus: </td>
        <td th:text="${item.bonus}"></td>
        <td>Wert: </td>
        <td th:text="${item.value}"></td>
        <td>Klein: </td>
        <td th:text="${item.smallItem}"></td>
        <td>
            <form action="#" th:action="@{${#httpServletRequest.requestURI}+'/'+${item.name}}" method="post">
                <div th:switch="${item.sell}">
                    <input th:case="false" type="submit" th:value="Abgeben">
                    <input th:case="true" type="submit" th:value="Behalten">
                </div>
            </form>
        </td>
    </tr>
    <td th:if="${Noitem}" th:text="${Noitem}"></td>
</table>


<div class="myBoxSc">
    <table >
        <tr th:each="message : ${messages}">
            <td th:text="${message.messageText}"></td>
        </tr>
    </table>
</div>
<table>
    <form action="#" th:action="@{${#httpServletRequest.requestURI}}" object="${newMessaga}" newMessaga="message" method="post">
        <input type="text" field="*{name}" name="messageText" class="form-control" id="name" required="" pattern="^\S.*$" placeholder="Chat message">
        <div >
            <div>
                <input type="submit" class="btn btn-primary" value="Send">
            </div>
        </div>
    </form>
</table>

<footer th:insert="fragments/common.html :: footer"></footer>
</body>
</html>